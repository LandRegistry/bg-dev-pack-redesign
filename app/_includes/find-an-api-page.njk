{% extends 'page-with-nav.njk' %}

{% block head %}
{{ super() }}
<script>
    document.addEventListener("DOMContentLoaded", () => {
        let sorter = document.getElementById('sort');
        let sorted = document.querySelectorAll('[data-sortable]');
        function updateSortedValues(changedEvent) {
            console.log("Sorted to show only", sorter.value)
            if (sorter.value == 'choose-service-api') {
                sorted.forEach(it => it.classList.add("api-sort-visible"));
            }
            else {
                let selected = document.querySelector(`[data-sortable='${sorter.value}']`);
                sorted.forEach(it => it.classList.remove("api-sort-visible"))
                selected.classList.add("api-sort-visible")
            }
        }
        sorter.addEventListener('change', updateSortedValues);
        updateSortedValues(null);        
    })
</script>
{% endblock %}