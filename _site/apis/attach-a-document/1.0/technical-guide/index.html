<!DOCTYPE html>
<html lang="en" class="govuk-template govuk-template--rebranded">
  <head>
    <meta charset="utf-8">
    <title>Attach a document API technical guide - HM Land Registry Developer Pack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#789904">

<link rel="icon" href="/hmlrassets/images/favicon.ico" sizes="any"><link rel="mask-icon" href="/hmlrassets/images/mask-icon.svg" color="#789904"><link rel="apple-touch-icon" href="/hmlrassets/images/apple-touch-icon.png">
  <script src="/assets/application.js" type="module"></script>

  <link rel="stylesheet" href="/assets/application.css">


  <meta property="og:title" content="Attach a document API technical guide">
<meta property="og:description" name="description" content="Use this service to attach additional documents to an existing application.">
<script src="/assets/script.js"></script><script>
    function setVersion() {
        let version = document.getElementById('version').value;
        if (!window.location.href.includes(version + '/')) {
            console.log(`Versions were different, navigating to ${version}`)
            if (window.location.href.match(/\/[0-9.]+\//))
                window.location.href = window.location.href.replace(/\/[0-9.]+\//, `/${version}/`)
            else
                window.location.href = `./${version}`
        } else {
            console.log(`Version has not changed`);
        }
    }
    document.addEventListener("DOMContentLoaded", () => {
        setVersion()
    });
</script><script>
    let rangeToElement = []
    let navigations = {}

    function initialize(navItems) {
      navItems.forEach(element => {
        let href = element.href.split('#')[1];
        let related = document.querySelector("#"+href);
        let scrollY = related.offsetTop;
        rangeToElement.push({
          scroll: scrollY,
          element: element
        });
      });
      rangeToElement = rangeToElement.sort((a, b) => a.scroll - b.scroll)
      update();
    }

    function update() {
      let scrollY = window.scrollY;
      let selected = rangeToElement[0];
      for (let scroller of rangeToElement) {
        if (scroller.scroll > scrollY) {
          break;
        }
        selected = scroller;
      }
      select(selected.element);
    }

    function select(selectedElement) {
      if (selectedElement.classList.contains("x-govuk-sub-navigation__section-item--current")) return;
      for (let el of rangeToElement) {
        if (el.element == selectedElement) continue;
        unselect(el.element)
      }
      selectedElement.classList.add("x-govuk-sub-navigation__section-item--current")
      selectedElement.setAttribute("aria-current", true);
    }

    function unselect(element) {
      element.classList.remove("x-govuk-sub-navigation__section-item--current")
      element.setAttribute("aria-current", false);
    }

    document.addEventListener("DOMContentLoaded", () => {
        initialize(document.querySelectorAll(".x-govuk-sub-navigation a"))
        document.addEventListener("scroll", (event) => update());
    });
</script>
    <meta property="og:image" content="/hmlrassets/images/hmlr-opengraph-image.png">
  </head>
  <body class="govuk-template__body">
    <script>document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');</script>

      <a href="#main-content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>


  <header class="govuk-header app-header govuk-header--full-width-border" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-width-container app-header__container">
    <div class="govuk-header__logo app-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
          <span class="app-header__logotype">HM Land Registry Developer Pack</span>
      </a>
    </div>
    <app-search class="app-search govuk-!-display-none-print" index="/search-index.json" label="Search developer pack"><a class="app-search__link" href="/sitemap">Sitemap</a></app-search>

  </div>
</header>

  

  <div class="govuk-service-navigation app-service-navigation"
data-module="govuk-service-navigation"
>
      <div class="govuk-width-container">

    <div class="govuk-service-navigation__container">
      

      
    </div>

    </div>

  </div>



      <div class="govuk-width-container">
  <a href="javascript:window.history.back()" class="govuk-back-link">Back</a>
        <main class="govuk-main-wrapper" id="main-content">
<div class="govuk-grid-row">


<div class="govuk-grid-column-one-third sticky">
    <nav class="x-govuk-sub-navigation" aria-labelledby="sub-navigation-heading">
  <h2 class="govuk-visually-hidden" id="sub-navigation-heading">Pages in this section</h2>
  <h3 class="x-govuk-sub-navigation__theme">Contents</h3>
  <ul class="x-govuk-sub-navigation__section">
    <li class="x-govuk-sub-navigation__section-item">
      <a class="x-govuk-sub-navigation__link" href="#how-to-use-the-attach-a-document-api">How to use the Attach a document API</a>
    </li>
    <li class="x-govuk-sub-navigation__section-item">
      <a class="x-govuk-sub-navigation__link" href="#validation-rules">Validation rules</a>
    </li>
    <li class="x-govuk-sub-navigation__section-item">
      <a class="x-govuk-sub-navigation__link" href="#example-requests-and-responses">Example requests and responses</a>
    </li>
  </ul>
</nav>

</div>

<div class="govuk-grid-column-two-thirds">


<header class="app-document-header">
  <h1 class="govuk-heading-xl">Attach a document API technical guide</h1><p class="govuk-body-l">Use this service to attach additional documents to an existing&nbsp;application.</p>
</header>


<hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
<div class="bg-version-grid">
    <div>
        <h2 class="govuk-heading-m govuk-!-margin-0" id="version-and-status">Version and Status</h2>
    </div>
    <div class="govuk-form-group version-group govuk-!-margin-0">
  <label class="govuk-label govuk-visually-hidden" for="version">
    Version and Status dropdown
  </label>
  <select class="govuk-select" id="version" name="version">
    <option value="1.0" selected>v1.0</option>
  </select>
  <button type="submit" 
                  class="govuk-button govuk-!-margin-0" 
                  data-module="govuk-button"
                  onclick="setVersion();"
                  >View</button>
</div>

</div>
<hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

<div class="app-prose-scope"><section>
<h2 class="govuk-heading-m" id="how-to-use-the-attach-a-document-api" tabindex="-1" class="govuk-heading-l">How to use the Attach a Document API</h2>
<p class="govuk-body">Before attaching a document to an application, it must be uploaded. For this step, read the <a href="/apiss/send-a-document/technical-guide" class="govuk-link">Send a document API technical guide</a>.</p>
<p class="govuk-body">To attach an uploaded document to an existing application, make an HTTP POST request to the attach document endpoint.</p>
<h3 id="attach-the-document" tabindex="-1" class="govuk-heading-m">Attach the document</h3>
<p class="govuk-body">The body of the request contains:</p>
<p class="govuk-body">the id of the document attached to the application. The document id is retrieved when uploading the document to be attached</p>
<p class="govuk-body">the certification statement type. This must be one of <code class="app-code app-code--inline">CERTIFIED</code>, <code class="app-code app-code--inline">CERTIFIED_BY_ANOTHER</code>, or <code class="app-code app-code--inline">NOT_CERTIFIED</code></p>
<p class="govuk-body">Once the request to attach a document has been validated, an empty ‘202 Accepted’ response will be returned. If validation fails, a ‘400’ response will be returned containing details of the error.</p>
<p class="govuk-body">After the request has been accepted, document attachment begins. Once this completes (successfully or otherwise) a notification will be sent.</p>
<h3 id="notifications" tabindex="-1" class="govuk-heading-m">Notifications</h3>
<p class="govuk-body">Once the document attachment process finishes, notifications will be available about the status of the attached document via the <a href="apis/notifications" class="govuk-link">Notifications API</a>. Notifications may include:</p>
<ul class="govuk-list govuk-list--bullet">
<li>
<p class="govuk-body"><code class="app-code app-code--inline">application.document-success</code> - the document has successfully been attached to the application</p>
</li>
<li>
<p class="govuk-body"><code class="app-code app-code--inline">application.document-failed</code> - the document failed to attach to the application</p>
</li>
</ul>
</section>
<section>
<h2 class="govuk-heading-m" id="validation-rules" tabindex="-1" class="govuk-heading-l">Validation rules</h2>
<p class="govuk-body">To pass validation, the provided application id must exist in HMLR’s system. If the application is not found, a ‘HTTP 404’ response will be returned.</p>
<p class="govuk-body">The application must also be in a pending state. It must not have been completed or cancelled.</p>
<p class="govuk-body">Business unit and customer ids are not provided in the request directly but are computed when sending the request. The ids must match those on the application the document is being attached to. If either id values do not match the values on the application, a ‘HTTP 400’ response will be returned.</p>
</section>
<section>
<h2 class="govuk-heading-m" id="example-requests-and-responses" tabindex="-1" class="govuk-heading-l">Example requests and responses</h2>
<h3 class="govuk-heading-s" id="attach-a-document" tabindex="-1" class="govuk-heading-m">Attach a document</h3>
<div class="code-wrapper">
<button type="submit" class="govuk-button govuk-button--secondary copy-code" data-module="govuk-button">
  Copy code
</button>
<pre class="app-code app-code--block app-code__language--json" tabindex="0"><code><span class="app-code__punctuation">{</span>  

  <span class="app-code__attr">&quot;data&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">{</span>  

    <span class="app-code__attr">&quot;document_id&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;38e7eba4-35bf-41a2-a7a2-7aaf2faa2b3b&quot;</span><span class="app-code__punctuation">,</span>  

    <span class="app-code__attr">&quot;certification_statement_type&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;NOT_CERTIFIED&quot;</span>  

  <span class="app-code__punctuation">}</span>  

<span class="app-code__punctuation">}</span>  
</code></pre>

</div>
<p class="govuk-body">Upon successful validation, this request will return an empty 202 Accepted response.</p>
<p class="govuk-body">If the application is not found, a 404 response will be returned:</p>
<div class="code-wrapper">
<button type="submit" class="govuk-button govuk-button--secondary copy-code" data-module="govuk-button">
  Copy code
</button>
<pre class="app-code app-code--block app-code__language--json" tabindex="0"><code><span class="app-code__punctuation">{</span>  

  <span class="app-code__attr">&quot;errors&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">[</span>  

    <span class="app-code__punctuation">{</span>  

      “type”<span class="app-code__punctuation">:</span> “OC200”<span class="app-code__punctuation">,</span>  

      “detail”<span class="app-code__punctuation">:</span> “Order creation request not found in the system for request id ‘application-id’”<span class="app-code__punctuation">,</span>  

      “pointer”<span class="app-code__punctuation">:</span> <span class="app-code__literal"><span class="app-code__keyword">null</span></span>  

    <span class="app-code__punctuation">}</span>  

  <span class="app-code__punctuation">]</span>  

<span class="app-code__punctuation">}</span>    
</code></pre>

</div>
<p class="govuk-body">If the application has already been completed or cancelled, a 400 response will be returned:</p>
<div class="code-wrapper">
<button type="submit" class="govuk-button govuk-button--secondary copy-code" data-module="govuk-button">
  Copy code
</button>
<pre class="app-code app-code--block app-code__language--json" tabindex="0"><code><span class="app-code__punctuation">{</span>  

  <span class="app-code__attr">&quot;errors &quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">[</span>  

    <span class="app-code__punctuation">{</span>  

      “type”<span class="app-code__punctuation">:</span> “OC036”<span class="app-code__punctuation">,</span>  

      “detail”<span class="app-code__punctuation">:</span> “Application status is not PENDING”<span class="app-code__punctuation">,</span>  

      “pointer”<span class="app-code__punctuation">:</span> <span class="app-code__literal"><span class="app-code__keyword">null</span></span>  

    <span class="app-code__punctuation">}</span>  

  <span class="app-code__punctuation">]</span>  

<span class="app-code__punctuation">}</span>     
</code></pre>

</div>
<p class="govuk-body">Attach a document success notification</p>
<div class="code-wrapper">
<button type="submit" class="govuk-button govuk-button--secondary copy-code" data-module="govuk-button">
  Copy code
</button>
<pre class="app-code app-code--block app-code__language--json" tabindex="0"><code><span class="app-code__punctuation">{</span>  

  <span class="app-code__attr">&quot;data&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">[</span>  

    <span class="app-code__punctuation">{</span>  

      <span class="app-code__attr">&quot;notification_id&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;7788bfb3-02f2-4c9b-be58-94e9df010ac8&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;created_datetime&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;2025-02-25T16:17:19.120585661Z&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;payload_schema&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;https://landregistry.github.io/bgtechdoc/schemas/v1/application/document-success.json&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;notification_type&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;application.document-success&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;subject_type&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;APPLICATION&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;subject&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;3d4b51cf-76ab-40ad-9b09-099323034adf&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;event_datetime&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;2025-02-20T09:06:29.120585661Z&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;status&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;NEW&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;payload&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">{</span>  

        <span class="app-code__attr">&quot;data&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">{</span>  

          <span class="app-code__attr">&quot;attachment_id&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__number">123</span>  

        <span class="app-code__punctuation">}</span>  

      <span class="app-code__punctuation">}</span>  

    <span class="app-code__punctuation">}</span>  

  <span class="app-code__punctuation">]</span>  

<span class="app-code__punctuation">}</span>      
</code></pre>

</div>
<p class="govuk-body">Attach a document failed notification</p>
<div class="code-wrapper">
<button type="submit" class="govuk-button govuk-button--secondary copy-code" data-module="govuk-button">
  Copy code
</button>
<pre class="app-code app-code--block app-code__language--json" tabindex="0"><code><span class="app-code__punctuation">{</span>  

  <span class="app-code__attr">&quot;data&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">[</span>  

    <span class="app-code__punctuation">{</span>  

      <span class="app-code__attr">&quot;notification_id&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;7788bfb3-02f2-4c9b-be58-94e9df010ac8&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;created_datetime&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;2025-02-25T16:17:19.120585661Z&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;payload_schema&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot; https://landregistry.github.io/bgtechdoc/schemas/v1/application/document-failed.json &quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;notification_type&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot; application.document-failed&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;subject_type&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;APPLICATION&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;subject&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;3d4b51cf-76ab-40ad-9b09-099323034adf&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;event_datetime&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;2025-02-20T09:06:29.120585661Z&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;status&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;NEW&quot;</span><span class="app-code__punctuation">,</span>  

      <span class="app-code__attr">&quot;payload&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">{</span>  

        <span class="app-code__attr">&quot;data&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__punctuation">{</span>  

          <span class="app-code__attr">&quot;failure_reason&quot;</span><span class="app-code__punctuation">:</span> <span class="app-code__string">&quot;An error occurred&quot;</span>  

        <span class="app-code__punctuation">}</span>  

      <span class="app-code__punctuation">}</span>  

    <span class="app-code__punctuation">}</span>  

  <span class="app-code__punctuation">]</span>  

<span class="app-code__punctuation">}</span>     
</code></pre>

</div>
</section>
</div>



<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
<h3 class="govuk-heading-m">Related APIs</h3>
<ul class="govuk-list govuk-list--bullet">
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/apis/submit-an-application-to-change-the-land-register">Submit an application to change the Land Register API</a></li>
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/apis/send-a-document">Send a document API</a></li>
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/apis/submit-an-application">Submit an application API</a></li>
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/apis/application-information">Application information API</a></li>
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/apis/attach-a-message">Attach a message API</a></li>
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/apis/download-a-document">Download a document API</a></li>
    <li class="govuk-!-margin-bottom-2"><a class="govuk-link" href="/find-a-service-api">More</a></li>
</ul>

</div>

</div>
        </main>
      </div>

<footer class="govuk-footer govuk-footer--hmlr " role="contentinfo">
  <div class="govuk-width-container ">
    <div class="govuk-footer__meta">
      <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">
          <h2 class="govuk-visually-hidden">These links open in a new tab.</h2>
            <ul class="govuk-footer__inline-list">
                <li class="govuk-footer__inline-list-item">
                  <a class="govuk-footer__link" href="https://landregistry.github.io/bgtechdoc/accessibility/index.html">
                    Accessibility Statement
                  </a>
                </li>
            </ul>
            <div class="govuk-footer__meta-custom">
              These links open in a new tab.
            </div>
      </div>
      <div class="govuk-footer__meta-item">
        <span
          class="govuk-footer__link govuk-footer__copyright-logo govuk-footer__copyright-logo--hmlr"
        >&copy; Crown copyright</span>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
